<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Space Articles - SpaceExplorer</title>
  <!--=============== FAVICON ===============-->
  <link rel="shortcut icon" href="images_used/favicon.png" type="image/x-icon">
  
  <!--=============== REMIXICONS ===============-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css">
  
  <!--=============== SWIPER CSS ===============-->
  <link rel="stylesheet" href="swiper-bundle.min.css">
  
  <!--=============== CSS ===============-->
  <link rel="stylesheet" href="style.css">
  
  <style>
    /* Additional styles for article page */
    :root {
      --article-bg: hsla(238, 50%, 20%, .4);
      --border-gradient: linear-gradient(90deg, hsl(192, 94%, 49%), hsl(224, 98%, 51%));
    }
    
    .article-page {
      padding-top: 100px;
      min-height: 100vh;
    }
    
    .article-header {
      text-align: center;
      margin-bottom: 3rem;
    }
    
    .article-accordion {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    
    .accordion-item {
      margin-bottom: 1.5rem;
      border: 2px solid;
      border-image: var(--border-gradient) 1;
      background: var(--article-bg);
      backdrop-filter: blur(16px);
      border-radius: 8px;
      overflow: hidden;
    }
    
    .accordion-header {
      padding: 1.5rem;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background-color 0.3s ease;
    }
    
    .accordion-header:hover {
      background-color: hsla(243, 98%, 51%, .2);
    }
    
    .accordion-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--white-color);
    }
    
    .accordion-icon {
      font-size: 1.5rem;
      transition: transform 0.3s ease;
    }
    
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      padding: 0 1.5rem;
    }
    
    .accordion-content.active {
      max-height: 1000px;
      padding: 0 1.5rem 1.5rem;
    }
    
    .article-image {
      width: 100%;
      max-width: 400px;
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
      margin: 1rem 0;
    }
    
    .article-meta {
      color: var(--first-color);
      font-weight: 600;
      margin-bottom: 1rem;
    }
    
    .article-full-content {
      line-height: 1.8;
      color: var(--text-color);
    }
    
    .back-button {
      display: inline-block;
      margin: 2rem auto;
      padding: 0.75rem 2rem;
      background: var(--first-gradient);
      color: var(--white-color);
      text-decoration: none;
      border-radius: 25px;
      transition: transform 0.3s ease;
    }
    
    .back-button:hover {
      transform: translateY(-2px);
    }
    
    .page-navigation {
      text-align: center;
      margin-top: 3rem;
    }
  </style>
</head>
<body>
  <!-- Header Section -->
  <header class="header" id="header">
    <nav class="nav container">
      <a href="index.html" class="nav__logo">
        <img src="images_used/logo.svg" alt="image"> Planet
      </a>
      
     <!--Toggle button-->
           <div class="nav__toggle" id="nav-toggle">
            <i class="ri-menu-4-line"></i>
           </div>
           <div class="nav__menu" id="nav-menu">
          <ul class="nav__list">
              <li><a href="#articles" class="nav__link">Articles</a></li>
              <li><a href="#footer" class="nav__link">Others</a></li>
              </ul>
              
              <!-- Log out button -->
               <button class="logout-btn" onclick="logout()"><i class="ri-logout-box-r-line"></i> Log Out</button>

              <!--Close button-->
              <div class="nav__close" id="nav-close">
                 <i class="ri-close-large-line"></i>
               </div>
           </div>
      </nav>

    </header>

  <!-- Article Page -->
  <main class="article-page" id="articles">
    <div class="article-header">
      <h1 class="section__title">Space <span>Articles</span></h1>
      <p>Explore our comprehensive collection of space exploration articles</p>
    </div>

    <div class="article-accordion" id="articleAccordion"></div>

    <div class="page-navigation">
      <a href="index.html" class="back-button">
        <i class="ri-arrow-left-line"></i> Back to Home
      </a>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer" id="footer">
    <div class="footer_container container grid">
      <div class="footer__content grid">
        <ul class="footer__links">
          <li><a href="/" class="footer__links">HOME</a></li>
          <li><a href="/article" class="footer__links">ARTICLES</a></li>
          <li><a href="/services" class="footer__links">SERVICES</a></li>
        </ul>
        <div class="footer__social">
          <a href="https://www.facebook.com/" target="_blank" class="footer__social-links">
            <i class="ri-facebook-fill"></i>
          </a>
          <a href="https://www.instagram.com/" target="_blank" class="footer__social-links">
            <i class="ri-instagram-fill"></i>
          </a>
          <a href="https://twitter.com/" target="_blank" class="footer__social-links">
            <i class="ri-twitter-x-fill"></i>
          </a>
        </div>
      </div>
      <span class="footer__copy">
        &#169; All Rights Reserved By SIMRAN_SINGH
      </span>
    </div>
  </footer>

  <script>
    const BASE_URL = 'https://spaceapplicationx.onrender.com/';

 // Navbar toggle for mobile menu
  const navMenu = document.getElementById('nav-menu'),
        navToggle = document.getElementById('nav-toggle'),
        navClose = document.getElementById('nav-close');

  // Show menu
  if(navToggle){
    navToggle.onclick = () => {
      navMenu.classList.add('show-menu');
    }
  }

  // Hide menu
  if(navClose){
    navClose.onclick = () => {
      navMenu.classList.remove('show-menu');
    }
  }

  // Hide menu on nav link click 
  document.querySelectorAll('.nav__link').forEach(link => {
    link.onclick = () => navMenu.classList.remove('show-menu');
  });

// Logout function
  window.logout = function () {
    console.log('Logout triggered');
    localStorage.removeItem('user');
    location.reload();
  };


  // Accordion functionality
    function toggleAccordion(header) {
      const content = header.nextElementSibling;
      const icon = header.querySelector('.accordion-icon');
      document.querySelectorAll('.accordion-content').forEach(item => {
        if (item !== content) {
          item.classList.remove('active');
          item.style.maxHeight = '0';
          item.previousElementSibling.querySelector('.accordion-icon').style.transform = 'rotate(0deg)';
        }
      });
      if (content.classList.contains('active')) {
        content.classList.remove('active');
        content.style.maxHeight = '0';
        icon.style.transform = 'rotate(0deg)';
      } else {
        content.classList.add('active');
        content.style.maxHeight = content.scrollHeight + 'px';
        icon.style.transform = 'rotate(180deg)';
      }
    }

    // Fetch articles from backend and render
     fetch(`${BASE_URL}/api/articles`)
      .then(res => res.json())
      .then(articles => {
        const container = document.getElementById('articleAccordion');
        container.innerHTML = '';
        articles.forEach(article => {
          container.innerHTML += `
            <div class="accordion-item">
              <div class="accordion-header" onclick="toggleAccordion(this)">
                <div>
                  <h3 class="accordion-title">${article.title}</h3>
                  <span class="article-meta">${article.subtitle}</span>
                </div>
                <i class="ri-arrow-down-s-line accordion-icon"></i>
              </div>
              <div class="accordion-content">
                <img src="${article.image}" alt="${article.title}" class="article-image">
                <div class="article-full-content">
                  ${article.full_content}
                  <p><strong>Author:</strong> ${article.author} | <strong>Date:</strong> ${article.date}</p>
                  <p><strong>Tags:</strong> ${article.tags.join(', ')}</p>
                </div>
              </div>
            </div>
          `;
        });
      })
      .catch(error => console.error('Error fetching articles:', error));

  </script>
  <script src="logout.js"></script>
</body>
</html>